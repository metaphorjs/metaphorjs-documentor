
<mjs-if value="!this.pageOptions.hideTopMenu">

<div class="navbar navbar-expand navbar-dark bg-dark fixed-top" 
        role="navigation"
        {class.fixed-top}="!this.multipage">

    <a class="navbar-brand" 
        [href]=".topTitleLink || '#'" 
        {bind}=".topTitle || .title"></a>


<mjs-if value="!this.multipage">

    <button class="navbar-toggler" type="button" 
            data-toggle="collapse" 
            data-target="#navbarToggler1" 
            aria-controls="navbarToggler1" 
            aria-expanded="false" 
            aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarToggler1">

        <ul class="navbar-nav">
            <li class="nav-item dropdown" 
                {each}="section in .sourceTree.structure | toArray">
                <a href="#" 
                    class="nav-link dropdown-toggle" 
                    data-toggle="dropdown"
                    role="button" 
                    aria-haspopup="true" 
                    aria-expanded="false">
                    {{.section.value.groupName}}
                    <span class="caret"></span>
                </a>
                <div class="dropdown-menu" role="menu">
                    <a class="dropdown-item" 
                        {each}="item in .section.value.children"
                        [href]="'#'+ .item.id" 
                        {bind}=".item.name"></a>
                </div>
            </li>
        </ul>

        <ul class="navbar-nav navbar-right"
            {if}=".hasOwnProperty('topRightMenu')">
            <li class="nav-item" 
                {each}="item in .topRightMenu">
                <a class="nav-link" 
                    [href]=".item.href" 
                    {bind}=".item.name"></a>
            </li>
        </ul>

    </div><!--/.nav-collapse -->

</mjs-if>

    
</div>

</mjs-if>